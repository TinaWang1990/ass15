<!DOCTYPE html>
<html>
<head>
<title>Ajax Assignment</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){

	//question 1
// $("input[name='showHint']").keyup(function(){
 //            var str= this.value;
 //            if(str.length==0){
 //            $('#txtHint').HTML("");
 //        }else{
 //            var xmlhttp=new XMLHttpRequest();
 //            xmlhttp.onreadystatechange=function(){
 //                if(this.readyState==4&&this.status==200){
 //                    $('#txtHint').html(this .responseText);
 //                }
 //            }
 //        };
 //     xmlhttp.open("GET", "gethint.php?q="+str,true);
 //     xmlhttp.send();
        
 //        });

	//question 2

// $("input[name='submit']").click(function(){
// 	var username=$("input[name='username']").val();
// 	var pass=$("input[name='password']").val();
	
// 	$.post(
// 		"c.php",
// 		{
// 			"username":	username,
// 			"password": pass
// 		},
// 		function (data, status){
// 			console.log(data);
// 			$('#msg').text(data.message);
// 		},
// 		"json"

// 		);

	
// 	});



	//question 3
// $("input[name='s_id']").on('change',function(){
// 	var id=$("input[name='s_id']").val();
// 	var arr= new Array();
	

// 	$.getJSON("students.json", function(data){

// 		for(var i=0; i<data.students.length;i++){
// 			arr[i]=data.students[i]['stuID'];
			
// 			// arr.push(data.students[i]['stuID']);
			
// 			if(id==data.students[i]['stuID']){
// 				var name=data.students[i]['stuName'];
// 				var des=data.students[i]['description'];
// 				$("input[name='s_name']").val(name);
// 				$("input[name='s_des']").val(des);
// 				break;
// 			}else{
// 				name="Not Found.";
// 				des="Not Found";
// 				$("input[name='s_name']").val(name);
// 				$("input[name='s_des']").val(des);
// 			}
// 		}

// 		// var result=$.inArray("id",arr);
// 		// 	console.log(result);
// 	});
// 		// var str=arr.toString();
// 		// console.log(str.indexOf(id));
// 		// if (result==-1){
// 		// 	alert("The student is not exist.");
// 		// }
	
// });

	//question 4
	$(".select button").click(function(){
		var select_id=$("input[name='sel_p_id']").val();
		var select_name=$("input[name='sel_p_name']").val();
		$.post("database.php",
			{select_id:select_id, select_name:select_name},
			function(data, status){
				$('#result').html(data);
			});		
	});
	$(".update button").click(function(){
		var update_id=$("input[name='upd_p_id']").val();
		var update_origin=$("input[name='upd_p_q_orign']").val();
		var update_cur=$("input[name='upd_p_q_cur']").val();
		$.post("database.php",
			{update_id:update_id, update_origin:update_origin, update_cur:update_cur},
			function(data, status){
				$('#result').html(data);
			});		
	});
	$(".delete button").click(function(){
		var delete_id=$("input[name='del_p_id']").val();
		$.post("database.php",
			{delete_id:delete_id},
			function(data, status){
				$('#result').html(data);
			});		
	});



});
</script>
</head>
<body>
<p>question 1</p>
<p><b>Start typing a name in the input field below:</b></p>
<form> 
First name: <input type="text" name="showHint">
</form>
<p>Suggestions: <span id="txtHint"></span></p>


<br><br><br>
<p>question 2</p>
<form method='POST'>
	username:
	<input type="text" name="username">
 	<br>
	password:
	<input type="password" name="password">
	<input type="submit" name="submit">
</form>
<div id="msg"></div>


<br><br><br>
<p>question 3</p>
<label>
	Please input Student ID:
	<input type="text" name="s_id">
</label><br>
<label>
	Student Name:
	<input type="text" name="s_name" readonly>
</label><br>
<label>
	Student Description:
	<input type="text" name="s_des" readonly>
</label>


<br><br><br>
<p id="q4">question 4</p>
<style type="text/css">
.active{
	display: inline-block;
}
.hidden{
	display: none;
}
</style>
<script type="text/javascript">
$(document).ready(function(){
	$('a').click(function(){
		var para = $(this).attr('id').substr(0,6);
		$('.'+para).removeClass('hidden').addClass('active').siblings().removeClass('active').addClass('hidden');
	})

	$('input').change(function(){
		//disable select button when input is not filled.
		if($("input[name='sel_p_id']").val()!=""||$("input[name='sel_p_name']").val()!=""){
			$(".select button").attr('disabled',false);
		}else{
			$(".select button").attr('disabled',true);
		}

		//complete the jquery control for update and delete button.

	})


})
</script>
<div><a id="select_c" href="#q4">Select</a>|<a id="update_c" href="#q4">Update</a>|<a id="delete_c" href="#q4">Delete</a></div>
<div>
<div class="select active">
	Product ID: <input type="text" name="sel_p_id"><br>
	Product Name:<input type="text" name="sel_p_name"><br>
	<button disabled>Select</button>
</div>
<div class="update hidden">
	Product ID: <input type="text" name="upd_p_id"><br>
	Quantity from&nbsp;<input type="number" name="upd_p_q_orign">&nbsp;to&nbsp;<input type="number" name="upd_p_q_cur"><br>
	<button >Update</button>
</div>
<div class="delete hidden">
	Product ID: <input type="text" name="del_p_id"><br>
	<button >Delete</button>
</div>
</div>
<br>
<div id="result">
	
</div>
<br><br><br>
<p id="q5">question 5</p>
<p id="qq5"></p>
<script type="text/javascript">
//Please give the output of the following code:
const arr = [10, 12, 15, 21];
for (var i = 0; i < arr.length; i++) {
	// console.log(arr[i]);
 setTimeout(function(i) {
   // console.log('Index: ' + i + ', element: ' + arr[i]);
   $('#qq5').text('Index: ' + i + ', element: ' + arr[i]);
  },(i+1)*3000,i) ;
}


//Figure it out how to ouput the value it should be and give the solution below.

</script>
</body>
</html>
